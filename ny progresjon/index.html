<!DOCTYPE html>
<html>
<head>
    <title>Jiu-Jitsu Belt Progress Tracker</title>
    <style>
        #checklist {
            margin: 20px;
            text-align: left;
        }

        .trackProgress {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: left;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            margin: 10px 0;
        }

        #progressPercentage {
            font-weight: bold;
        }

        /* Style to make the checkbox unclickable */
        .subtype.disabled-checkbox {
            pointer-events: none;
        }

        .circular-chart {
            margin: 20px;
        }

        .circle {
            fill: none;
            stroke: #007BFF;
            stroke-width: 3.8;
            animation: progress 1s ease-out forwards;
        }

        .percentage-text {
            font-size: 10px;
            dominant-baseline: middle;
            text-anchor: middle;
        }

        #progressPercentage {
            font-size: 0.4rem;
        }

        @keyframes progress {
            from {
                stroke-dasharray: 0, 100;
            }
        }
    </style>
</head>
<body>
    <div class="trackProgress">
        <div id="checklist">
            <div id="progress">
         
                <svg viewBox="0 0 36 36" class="circular-chart">
                    <path class="circle"
                        stroke-dasharray="0, 100"
                        d="M18 2.0845
                        a 15.9155 15.9155 0 0 1 0 31.831
                        a 15.9155 15.9155 0 0 1 0 -31.831"
                    />
                    <!-- SVG text element to display percentage -->
                    <text class="percentage-text" id="progressPercentage" x="50%" y="50%">
                        <tspan x="50%" dy="0">0%</tspan>
                    </text>
                </svg>
            </div>
            <h2>Del A - Grunnteknikker</h2>
            <ul>
                <!-- Apply the "disabled-checkbox" class to make the checkbox unclickable -->
                <li><input type="checkbox" class="subtype disabled-checkbox" id="subtype1">Guardstillinger / Benstillinger</li>
                <li><input type="checkbox" class="subtype" id="subtype2">Forflytninger</li>
                <li><input type="checkbox" class="subtype" id="subtype3">Fallteknikk</li>
                <li><input type="checkbox" class="subtype" id="subtype4">Kast / Fellinger</li>
                <li><input type="checkbox" class="subtype" id="subtype5">Slag</li>
                <li><input type="checkbox" class="subtype" id="subtype6">Spark</li>
                <li><input type="checkbox" class="subtype" id="subtype7">MÃ¸nster</li>
                <li><input type="checkbox" class="subtype" id="subtype8">Forflytninger</li>
                <li><input type="checkbox" class="subtype" id="subtype9">Blokkeringer</li>
            </ul>
            <h2>Guardstillinger / Benstillinger</h2>
            <ul>
                <li><input type="checkbox" class="exercise subtype1">1</li>
                <li><input type="checkbox" class="exercise subtype1">2</li>
                <li><input type="checkbox" class="exercise subtype1">3</li>
                <li><input type="checkbox" class="exercise subtype1">4</li>
            </ul>
            
            <!-- Add more exercises here -->
        </div>
    </div>
    <script>
        // Function to update the bottom checkboxes based on the top checkboxes
        function updateCheckboxes() {
            const exerciseCheckboxes = document.querySelectorAll('.exercise');
            const subtype1 = document.getElementById('subtype1');

            // Check if all exercise checkboxes are checked
            const areAllExercisesChecked = Array.from(exerciseCheckboxes).every(checkbox => checkbox.checked);
            
            // Check or uncheck subtype1 based on all exercise checkboxes
            subtype1.checked = areAllExercisesChecked;

            // Recalculate the progress
            updateProgress();
        }

        // Add event listeners to exercise checkboxes to update subtype1
        const exerciseCheckboxes = document.querySelectorAll('.exercise');
        exerciseCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', updateCheckboxes);
        });

        // Function to calculate progress percentage and update the circular chart
        function updateProgress() {
            const exerciseCheckboxes = document.querySelectorAll('.subtype');
            const checkedCount = Array.from(exerciseCheckboxes).filter(checkbox => checkbox.checked).length;
            const totalCount = exerciseCheckboxes.length;
            const percentage = (checkedCount / totalCount) * 100;
            document.getElementById('progressPercentage').textContent = Math.round(percentage) + '%';


            // Update the circular chart
            const circle = document.querySelector('.circle');
            circle.style.strokeDasharray = percentage + ', 100';
            
            // Update the percentage text in the SVG
            const percentageText = document.querySelector('.percentage-text tspan');
            percentageText.textContent = Math.round(percentage) + '%';
        }

        // Initialize progress calculation
        updateProgress();
    </script>
</body>
</html>